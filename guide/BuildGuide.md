# ビルドガイド

> [!TIP]
> 本ページは LaLapad Gen2 のビルドガイドです。  

## このガイドについて

### 対象読者
- 初めて自作キーボードを組み立てる方を対象としています。
- はんだごての取り扱いなど、最低限の電子工作の知識や技術がある方を対象としています。

### 作業全体の目安
- 想定作業時間: 60～180分 
- 難易度: `TODO:難易度の定義が曖昧なので整理してから執筆。`

> [!WARNING]
> - 電子工作初心者の方はこの目安に囚われず、十分に時間をかけて作業して頂いて問題ありません。

## 準備

### キット内容物の確認

|パッキング | 内容 | 数量 | 単位 |
| --- | --- | --: | --- |
|-|3DP製ケース|1|Set|
|-|Socket|42|個|
|-|スタンド|4|個|
|ESDバッグ大|PCB本体|1|枚|
|ESDバッグ小|PCBトラックパッド|2|枚|
|ESDバッグ小|FFC6pin|2|枚|
|ポチ袋①|5wayスイッチ|2|個|
|ポチ袋①|LEDpipe|2|個|
|ポチ袋①|マグネット|4|個|
|ポチ袋②|オーバレイ|2|枚|
|ポチ袋②|5wayノブ|2|個|
|ポチ袋②|SW＆RSTパーツ|2|Set|
|ポチ袋②|ガスケットパーツ|2|Set|
|ポチ袋②|ゴム足|4|本|

`[画像プレースホルダ: キット内容物の全体写真]`

> [!WARNING]
> - 内容物に不足があった場合、Boothのメッセージにてショップオーナーにお問い合わせください。
> - 問い合わせへの対応は、購入履歴のあるBoothアカウントによるお問い合わせである事が条件となることを予めご了承ください。


### 別途用意するもの
| 名前 | 数 | 備考 |参考商品|
|:-|---:|:-|:-|
|Seeed Studio XIAO nRF52840 Plus|2個|XIAO BLEの新バージョンです。9本の追加GPIOが使用でき、より高機能なデバイスに適しています。|[遊舎工房](https://shop.yushakobo.jp/products/10946) [beekeeb.jp](https://shop.beekeeb.jp/products/seeed-studio-xiao-nrf52840-plus) [千石電商](https://www.sengoku.co.jp/mod/sgk_cart/detail.php?code=EEHD-6TTL) [スイッチサイエンス](https://www.switch-science.com/products/10468)|
|Kailh Choc V2互換スイッチ|42個|静音ではDeepSeaMiniがおすすめ。鳴らしつつ打鍵感の軽さを求める場合、COSMOXのShadow huntingをPBTキーキャップと組み合わせるとコリコリ感があって好みです。個人的な意見です。|[TALPKEYBOARD](https://shop.talpkeyboard.com/collections/kailh-chocv2) [遊舎工房](https://shop.yushakobo.jp/collections/all-switches/Kailh-Choc-V2%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81) [Amazon](https://www.amazon.co.jp/dp/B0DSSS4MYJ/) |
|MX軸ロープロファイルキーキャップ|42個|入手性の高さ、バリエーションの豊富さからWomierのPBTキーキャップをおすすめしています。 ※19mmピッチ用且つ、サイズは1Uが38個、1.5Uが4個必要です。|[Womier](https://womierkeyboard.com/products/skyline-r2) [Amazon](https://www.amazon.co.jp/stores/page/90526727-85E5-4BF8-AAD2-FC8A78C07BE3/search?ref_=ast_bln&store_ref=bl_ast_dp_brandLogo_sto&terms=%E3%83%AD%E3%83%BC%E3%83%97%E3%83%AD)|
|3.7Vリチウムポリマーバッテリー|2個|厚さ6.3mm幅47mm長さ110mm以下、JST PHコネクタ（ソケットのピッチ2.0mm）※[ソケットの極性に注意！](#%E3%83%90%E3%83%83%E3%83%86%E3%83%AA%E3%83%BC%E5%8F%96%E3%82%8A%E4%BB%98%E3%81%91)|[Amazon](https://www.amazon.co.jp/dp/B09DRJS75J/) [PHコネクタ単品](https://www.amazon.co.jp/dp/B01MXGWMS5/) |
|USB-Cケーブル|2本|充電、ファームウェア書き込み用。何百回と抜き差しする事になるのでマグネット式がおすすめ。||

### 道具類
|優先度| 名前 | 備考 |参考商品|
|---|:-|:-|:-|
|必須|はんだごて|安心と信頼の白光(HAKKO)製、 はんだ付け入門キット。|[amazon](https://www.amazon.co.jp/dp/B0FX3L5485)|
|必須|こて先（K型）|本ガイドではマイコンのはんだ付けにK型のこて先を推奨しています。安心と信頼の白光(HAKKO)製。|[amazon](https://www.amazon.co.jp/dp/B004ORB8MY/)|
|必須|フラックス|端子へのはんだが吸着しやすくなります。マイコン等シビアなはんだ作業では必須。注射器型。無洗浄タイプ。|[amazon](https://www.amazon.co.jp/dp/B078XSQF5T/)|
|必須|はんだ線|精密プリント基板用、極細（0.8mm以下）鉛入り低融点（200度未満）で入手性の高い物を選択。|[amazon](https://www.amazon.co.jp/dp/B0DQ54YDF4/)|
|大|はんだ吸い取り線|ミスしたはんだを吸い取ります。セットに付いてなかったら購入必須。<BR>はんだ済み端子はフラックスが蒸発しているので、フラックスと組み合わせて使用。|[amazon](https://www.amazon.co.jp/dp/B0DWM8W136/)|
|必須|ピンセット|はんだ中のパーツ固定用。||
|中|ニッパー|基板の分離用。||
|中|やすり|基板のばり取り用。ピンセットやニッパーの縁で削っても良い。||
|中|マスキングテープ|バッテリーの固定、はんだ中にパーツを仮止めする用。||
|中|瞬間接着剤|圧入したマグネットが取れてしまう場合の固定用。||
|中|テスター|電源投入前に配線のショートをチェックできるので怖さが減ります。またトラブル発生時にサポートのやりとりするために必須となっています。|[amazon](https://www.amazon.co.jp/dp/B0BLZ7GN2X)|
|中|ミニホットプレート|トラブル時にマイコンを取り外すために必須です。PD65W以上に対応したUSB-C充電器とケーブルが必要です。ヒートガンでも代用可能。|[amazon](https://www.amazon.co.jp/dp/B0DGFFP4CG/)|
|代替品|はんだごて|中級者向け。安価で高出力高機能なはんだごてを使ってみたい場合、FNIRSI社製のスマートはんだごてもオススメ。バリエーションHS-02B-Kは最初からK型のこて先付き。PD100W以上対応のUSB-C充電器とケーブルが必要です。|[アリエク](https://ja.aliexpress.com/item/1005008870209545.html)|

> [!WARNING]
> - 参考商品は全てアフィリエイトの含まれない直リンクです
> - 参考商品はあくまで参考であり、全ての商品が検証済みではないことにご注意ください


## 組み立て前チェック

### 安全上の注意
- `TODO: はんだ作業時の注意` 設定温度は300度前後。それでもはんだが溶けない場合、こて先の酸化やフラックスの蒸発を疑うこと。
- `TODO: バッテリー取り扱いの注意`
- `TODO: ショート防止・静電気対策`

### 作業環境の準備
- `TODO: 作業スペース`
- `TODO: 照明・換気`
- `TODO: 部品トレー準備`

## PCBの組み立て

### PCBの前処理
- `TODO: メイン基板分離手順`
- `TODO: メイン基板バリ取り手順（任意）`
- `TODO: トラックパッド基板バリ取り（必須）`

`[画像プレースホルダ: PCB前処理の手元写真]`

### ソケットの実装
- `TODO: ホットスワップソケット実装手順`
- `TODO: 向きの注意点`
- `TODO: はんだ量の目安`

`[画像プレースホルダ: ソケット向きの拡大図]`

### マイコンの実装
- `TODO: 仮固定手順`
- `TODO: はんだ付け箇所`
- `TODO: ピンヘッダ取り外し有無`

`[画像プレースホルダ: マイコン実装前後の比較]`

### その他電子部品の実装
- `TODO: 5wayスイッチの実装手順`

`[画像プレースホルダ: 電子部品実装済み状態]`

### トラックパッドモジュールの組み立て
- `TODO: トラックパッドの固定手順`
- `TODO: ケーブル取り回し`

`[画像プレースホルダ: トラックパッド装着状態]`

## ファームウェア書き込みと初期動作確認（USB）

### 事前準備
- `.uf2` ファイルを用意します（右手用・左手用）。
- `TODO: 配布先リンク（Gen2）`

### 書き込み手順
- USB接続状態でリセットボタンを2回押してブートローダーへ入ります。
- マウントされたドライブへ `.uf2` をコピーします。
- 左右それぞれで実施します。

`[画像プレースホルダ: ブートローダー認識画面]`

### 動作確認
- `TODO: キー入力テスト手順`
- `TODO: 左右接続順の注意`
- `TODO: レイヤー確認手順`
- `TODO: トラックパッド確認手順`
- `TODO: バッテリーを仮接続して動作確認`

`[画像プレースホルダ: テストサイトでの確認例]`

 `TODO: 問題発生時にトラブルシューティングへの誘導を注記する`

## ケースへの組み込み

### PCBへのトッププレート・キースイッチ取り付け
- `TODO: トッププレート＆キースイッチ取り付け順序`
- `TODO: LEDパイプ取り付け順序`

`[画像プレースホルダ: プレート固定状態]`

### ボトムケース仮組み
- `TODO: マグネット/スタンド/ゴム足取り付け手順`

`[画像プレースホルダ: ケース仮組みの手順写真]`

### ボトムケースへPCB＆バッテリーの組み込み
- `TODO: バッテリコネクタ接続手順`
- `TODO: バッテリ固定方法（両面テープ等）`
- `TODO: 極性の明記`
- `TODO: PCBをケースへマウントパーツ（TPU）の取り付け手順`
- `TODO: PCBをケースへ収める手順`

### アウターケースの組み込み
- `TODO: アウターケースの組み込み手順`
- `TODO: 干渉チェック`

`[画像プレースホルダ: 組み込み完了状態]`

### トラックパッドの取り付け
- `TODO: 取り付け手順`

`[画像プレースホルダ: 取り付け完了状態]`

### キーキャップとノブ取り付け
- `TODO: 各キーサイズの注意点`
- `TODO: ノブ向き・固定確認`

`[画像プレースホルダ: 外観完成写真（上面）]`

## トラブルシューティング

### ファームウェア書き込みに失敗する
- `TODO: チェック項目`

### 電源が入らない
- `TODO: チェック項目`

### 一部キーが反応しない
- `TODO: チェック項目`

### トラックパッドが反応しない
- `TODO: チェック項目`

### 左右接続が安定しない
- `TODO: チェック項目`

## 完成

> [!TIP]
> お疲れさまでした。  
> 次は `HowtoUse.md` とあわせて初期設定・キーマップ調整を行ってください。
